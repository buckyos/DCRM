# DMCX 介绍

## Token的基本概念

DMC20由一系列Token组成，充分利用了L2的技术和比特币Ordinal协议。

- DMCX：发行在 X Layer(由OKX构建的ETH L2)上的标准ERC20 Token，总量为10亿，其中50%可挖。，可以通过 X Layer的L2<->L1桥转换到ETH主链上,进而可以流向整个ETH生态。DMC2.0主合约部署在L2上，手续费使用OKB支付，比L1便宜很多。今天的DMC(1.0)将能通过中心化跨链桥转换成DMC2.0. DMC2.0的合约为Token Holder提供了更多的权益，其中最重要是质押DMCX获得GWT分红。

- GWT(Gb per Week Token) : DMC体系的存储稳定币，代表`1GB数据保存1周`，无发行上限。首发在 XLayer上。类似USDT,未来我们计划在所有的EVM兼容链上发行。我们会和合作伙伴一起构建大量的垮链桥，以帮助GWT在所有的链之间流通。所有的存储挖矿的核心逻辑都是质押GWT获得有效空间，保存数据，持续提交存储证明后获得有效存储算力，根据当前链的总存储算力和的算力的增长情况的到GWT算力奖励。

- DMCs(DMCsp):基于Ordinal 协议发行在BTC上，总量2.1亿。DMCs的目标是将更有价值的数据铭刻在BTC网络上，其经济模型独立于EVM兼容链体系。本文不讨论DMCs的设计。



## DMCX<->GWT的兑换

DMCX体系将Token分成了两大类。一大类是算力稳定币，我们计划发行3种：存储稳定币GWT，传输稳定币：MST，计算稳定币待定。另一大类是生态权益币DMCX。

该体系让我们能拥有面向未来的可扩展能力，同时也能继承今天的DMC的存储共识，并通过分离 算力稳定币的挖矿和DMC的挖矿，实现更简单可靠的经济模型和更高水平的博弈。


### 用GWT兑换未分配的DMCX

继承自DMC1.0的白皮书，待挖矿（待释放的）DMC20有一个确定的释放曲线：

```
从2024年X月开始一共有420个周期，每个周期大概是现实世界的1周。每21个周期进行一次难度调整。难度调整后的周期释放的Token是上一个周期的80%。总释放是=5亿DMC
第1-21周，每周最多释放480万枚DMC。随后的第21-42周，每周最多释放480万*0.8枚DMC
```

每周开始，系统都会计算一次DMC:GWT的比例。在这个周期里，任何人都可以用这个比例将GWT换成DMC，直到换完。下个周期会根据上个周期的DMC兑换情况调整比例：

```
如果上个周期的DMC都兑换完成了，则兑换比例提高：需要更多的GWT才能换到1个DMC
如果上个周期的DMC未兑换完成，则兑换比例下降：需要更少的GWT能换到1个DMC。
兑换比例的提高和下降，不能超过20%，兑换比例的下限是210（至少需要210个GWT才能换1个DMC）
```

用户用于兑换DMC的GWT不会销毁，而是成为DMC DAO的收入并进入DMCX 分红合约的利润池。

### 销毁DMC20得到GWT

用户销毁1个DMC，可以得到 兑换比例*1.1个GWT。

## 基于DMCX的分红

用GWT兑换DMCX,兑换用的GWT不会被销毁，而是进入DMC DAO分红池。质押DMCX并得到分红是DMCX的一个重要权益，DMCX的分红权益的基本原理是

```
任何人都可以给DMC分红池打入收入（支持任何币种）。
DMCX分红池的确定收入来源是DMCX的挖矿合约，这些合约会将一些资产流转税作为固定利润打入分红池。
根据利润进入分红池的时间，我们可以有不同的分红周期。用户质押DMCX后，按比例获得下一个周期的分红权。
```

每条链上的GWT挖矿合约都会有一个利润池，随后通过基金会中心化机制跨链转移到XLayer上并打入DMCX的分红池。因此DMCX的持有者在质押DMCX后，得到的是整个DMCX生态利润的分红权益。

## DMCX 流动性挖矿的博弈

- 是否需要销毁DMCX来获得GWT?早期GWT挖矿难度低，有更多的GWT质押能更快的获得更多算力，但是早期销毁DMCX得到的GWT相对较少。
- 是否需要解除DMCX质押：用户手头的DMCX肯定会去进行质押挖矿（不然就白拿着了），但解除质押需要消耗手续费，而且会损失一个周期的分红权。
- 是否需要将GWT换成DMCX？早期兑换比例低，用更少的GWT就有机会换到DMCX，但早期GWT的挖矿难度也低，更多的GWT质押币能更快的获得算力优势。

## GWT的挖矿

### 公共数据挖矿

公共数据挖矿的流程是：

1. Sponsor创建公共数据,并给公共数据充入第一笔GWT余额。这笔GWT一部分会进入公共数据的本轮竞赛奖池。
2. Supplier质押GWT成为Supplier
3. Supplier在矿机上保存公共数据，并在适当的时机展示公共数据的存储证明(SHOW)，获得奖励。奖励一方面来自公共数据的余额，一方面来自于算力奖励。
4. Supplier在SHOW成功后，公共数据在本轮竞赛中的积分会增加。积分增加的多少取决于数据的大小。
5. 一段时间后本轮竞赛结束，分数最高的前32个公共数据会按比例瓜分本轮竞赛奖池。
6. 获胜数据的Sponsor,Data Owner ,Supplier可以按比例瓜分该数据的获奖金额




### 私有数据挖矿（和DMC1.0的机制基本接近，核心区别就是整个流程只使用GWT）

1. 出售存储资源的用户被称作供应商，可以挂卖单，卖单应详细的描述其存储资源的定义和价格。约定：

- 存储总大小，
- 存储单价（定价单位从0.125到8,单位是GWT(Gb per Week Token）
- 存储有效时间（系统规定最小有效期为24周），
- 单次购买的最小大小(需小设置为2GB)。
- 存储质量

2. 挂卖单时矿工用GWT缴纳质量保证金，用来在存储出现问题时赔付给用户。

```
保证金总额 = 卖单总空间*有效时间*单价*质保比率
```

系统有要求最小质保比率(0.5)，用户可以根据实际的市场竞争调高该保证金。存储价格，质保比率会影响供应方在算力奖励里的比率。
比如用户有100G空间，挂单24周，价格是2，质保比率是0.5,那么在挂单时，矿工需要准备好 `100*24*2*0.5 = 2400`个GWT的质保金。
3. 有需求的用户（需求方）可以选择一个已挂单购买自己需要的空间

```
存储费用=需求空间*剩余有效时间*单价。
```

用户并不能选择有效时间。当一个存储订单的剩余有效时间小于系统的最小存储有效时间时，用户无法购买该存储订单。为了降低GAS Fee，用户在购买空间时应设置数据的MixHash.
4. 已成交订单进入等待（数据）状态。数据交付的流程是需求方首先根据供应方公开的账号信息，通过链下协议将数据传输给供应商。供应商收到数据后调用合约接口确认该数据的MixHash。此后订单进入交付状态。
5. 未进入交付状态的订单双方都可以随时取消。取消后，用户会立刻得到退款，矿工则是回复了该存储订单的空间。
6. 订单进入交付状态12周后，可以调用“提现操作”，提现操作会让供应方得到收入+算力奖励GWT，让用户得到算力奖励GWT。此时系统会在该过程中抽取一部分交易费用GWT。
7. 矿工可以随时减少卖单的有效剩余空间。有效剩余空间减少后，矿工会得到退还的质保金。
8. 当矿工发现数据丢失时，可以主动声明数据丢失。此时只会赔付给用户质保金的80%，并拿回剩余的20%。
9.	供应方因为正常的技术理由可以申请订单请假（请假的频率基于有效长度有最大限制），订单请假期间其无法发起存储挑战。供应方可以在主动调用合约接口将请假状态的订单恢复正常。
10.	存储订单可以协议取消（一方发起，另一方同意），此时双方都会得到剩余交付时间的退款。
11. 使用官方的挖矿软件不会碰到其它异常情况，因此本文不讨论存储挑战等情况下的经济模型


## MST的挖矿：传输挖矿 （下一个大的规划）

MST 是 Mb per Sec Token的缩写。代表1秒1MB的数据传输。

### 用torrent发布公共数据

1. 我们可以验证一个种子是否被发布到DMC网络
2. 用户消耗手续费将种子发布到DMC网络
3. 对tracker进行改造

### BT下载挖矿

1. 用户发布种子，消耗GWT
2. 用户加速下载，消耗GWT
3. 用户A上传给用户B，用户B构造传输证明给A，随后用户A向Tracker提交传输证明成功，赚取GWT
4. 任何人都可以查询用户在某个文件上是否有足够的余额（每个用户都有通用余额和指定数据的专用余额）
5. 用户通过支付GWT，可以提高指定数据的余额
6. 用户A通过定义提交种子文件的存储证明，可以得到公共数据挖矿的奖励


## DMCX 矿工的基本策略

DMCX生态由一系列的规则和经济模型组成，在理解这些规则的基础上，矿工可以制定自己的策略来获取更好的收益。

系统规则对矿工策略的基本规则是：低风险低回报，高风险高回报。矿工可以根据自己的风险承受能力，选择适合自己的策略。

- 最稳定的策略：根据自己拥有的存储空间，进行私有数据挖矿，按规则稳定交付存储证明，可以稳定的得到和自己存储空间大小相关的存储收入和算力奖励
- 金融博弈：手头的GWT什么时候换成DMCX，什么时候把DMCX换成GWT？什么时候去质押DMCX，什么时候解除质押？
- 公共数据挖矿博弈: 选择保存哪些公共数据? 







